var Yike=angular.module("Yike",["ngRoute","Ctrls","Directives"]);Yike.config(["$routeProvider",function(t){t.when("/today",{templateUrl:"./views/today.html",controller:"todayCtrl"}).when("/older",{templateUrl:"./views/older.html",controller:"olderCtrl"}).when("/author",{templateUrl:"./views/author.html",controller:"authorCtrl"}).when("/category",{templateUrl:"./views/category.html",controller:"cateCtrl"}).when("/settings",{templateUrl:"./views/settings.html",controller:"setCtrl"}).otherwise({redirectTo:"/today"})}]),Yike.run(["$rootScope",function(t){t.collapsed=!1,t.loaded=!1,t.toggle=function(){t.collapsed=!t.collapsed;var e=document.querySelectorAll(".navs dd");if(t.collapsed)for(var o=0;o<e.length;o++)e[o].style.transform="translate(0)",e[o].style.transitionDuration=.15*(o+1)+"s",e[o].style.transitionDelay="0.3s";else for(var o=e.length-1;o>=0;o--)e[o].style.transform="translate(-100%)",e[o].style.transitionDuration=.75-.15*o+"s",e[o].style.transitionDelay="0s"}}]),angular.module("Ctrls",[]).controller("navsCtrl",["$scope",function(t){t.navs=[{text:"今日一刻",icon:"icon-home",link:"#!/today"},{text:"往期内容",icon:"icon-file-empty",link:"#!/older"},{text:"热门作者",icon:"icon-pencil",link:"#!/author"},{text:"栏目浏览",icon:"icon-menu",link:"#!/category"},{text:"设置",icon:"icon-cog",link:"#!/settings"}]}]).controller("todayCtrl",["$scope","$http","$rootScope",function(t,e,o){o.loaded=!1,o.title="今日一刻",o.key=0,e({url:"./api/url.php",params:{flag:1,url:"https://moment.douban.com/api/stream/date/2016-08-20?alt=json&apikey=0bcf52793711959c236df76ba534c0d4&app_version=1.7.4&douban_udid=d623045db9fcb0d5243174c1bf1a675f887047c0&format=full&udid=9a34d8b038ff38971050199b0c5ee9c60c6d1ca3&version=6"}}).then(function(e){t.date=e.data.date,t.posts=e.data.posts,o.loaded=!0})}]).controller("olderCtrl",["$scope","$http","$rootScope",function(t,e,o){o.loaded=!1,o.title="往期内容",o.key=1;e({url:"./api/url.php",params:{flag:2,day:-2,url:"https://moment.douban.com/api/stream/date/2016-08-20?alt=json&apikey=0bcf52793711959c236df76ba534c0d4&app_version=1.7.4&douban_udid=d623045db9fcb0d5243174c1bf1a675f887047c0&format=full&udid=9a34d8b038ff38971050199b0c5ee9c60c6d1ca3&version=6"}}).then(function(e){t.posts=e.data.posts,t.date=e.data.date,o.loaded=!0})}]).controller("authorCtrl",["$scope","$http","$rootScope",function(t,e,o){o.loaded=!1,o.title="热门作者",o.key=2,e({url:"./api/url.php",params:{recUrl:"https://moment.douban.com/api/auth_authors/rec?alt=json&apikey=0bcf52793711959c236df76ba534c0d4&app_version=1.7.4&count=20&douban_udid=d623045db9fcb0d5243174c1bf1a675f887047c0&start=0&udid=9a34d8b038ff38971050199b0c5ee9c60c6d1ca3&version=6",allUrl:"https://moment.douban.com/api/auth_authors/all?alt=json&apikey=0bcf52793711959c236df76ba534c0d4&app_version=1.7.4&count=10&douban_udid=d623045db9fcb0d5243174c1bf1a675f887047c0&start=0&udid=9a34d8b038ff38971050199b0c5ee9c60c6d1ca3&version=6",flag:3}}).then(function(e){t.rec=e.data.rec.authors,t.all=e.data.all.authors,o.loaded=!0})}]).controller("cateCtrl",["$scope","$http","$rootScope",function(t,e,o){o.loaded=!1,o.title="栏目浏览",o.key=3,e({url:"./api/url.php",params:{url:"https://moment.douban.com/api/columns?alt=json&apikey=0bcf52793711959c236df76ba534c0d4&app_version=1.7.4&douban_udid=d623045db9fcb0d5243174c1bf1a675f887047c0&udid=9a34d8b038ff38971050199b0c5ee9c60c6d1ca3&version=6",flag:4}}).then(function(e){t.columns=e.data.columns,o.loaded=!0})}]).controller("setCtrl",["$scope","$http","$rootScope",function(t,e,o){o.loaded=!0,o.key=4}]),angular.module("Directives",[]).directive("yikeLoading",function(){return{restrict:"A",template:'<img class="loading"ng-hide="loaded"src="./public/images/loading.gif"alt=""/>'}});